/* empty css             */import{c as Xt,r as Jt}from"./el-input-CkkTmjjS.js";import{u as Dt,n as Ft,m as Zl,B as Yl,j as Xl,h as Jl,f as Qe,l as xl,C as _l,g as en,p as tn,q as ln}from"./el-popper-DaEKIEwv.js";import{_ as gt,d as ze,j as oe,o as B,t as fe,i as Ae,g as k,ap as ge,y as v,aI as ue,as as Le,be as nn,aL as an,ax as At,at as ae,ai as sn,b5 as on,ah as rn,ag as Ve,p as ce,f as C,h as de,aj as xt,ak as _t,bh as un,bi as Te,aY as cn,z,A as Je,U as V,F as Oe,H as dn,aS as Ie,l as Be,X as ut,K as Bt,aU as fn,G as bt,L as mn,aN as vn,ba as pn,n as ie,O as hn,R as el,bc as gn,e as re,aF as Pt,E as tl,P as Pe,an as bn,ay as yn,bb as Sn,al as we,b0 as wn,J as Ze,aT as Ht,aV as Ee,r as Ye,aJ as On,b as He,w as ee,aG as In,bj as Vn,bk as Tn,k as pe,a as Se,a0 as Wt,q as Kt,m as Fe,Z as ct,v as En,u as Mn,I as jt,au as Cn,av as Rn,a4 as zn,a1 as Ln}from"./index-D_giRRmy.js";import{g as Nn,s as kn}from"./user-CAKNJ799.js";/* empty css                   */import{_ as $n}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as ll,U as nl,d as Dn,f as Fn,j as An,l as Bn,k as Pn,g as Ut,h as Hn}from"./focus-trap-DQKan7YN.js";import{i as Wn}from"./browser-C01V7og2.js";const Kn=ze({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:ge("select")}}});function jn(e,l,n,o,u,c){return B(),oe("div",{class:k(e.ns.be("group","title")),style:Ae({...e.style,lineHeight:`${e.height}px`})},fe(e.item.label),7)}var Un=gt(Kn,[["render",jn],["__file","group-item.vue"]]);function Gn(e,{emit:l}){return{hoverItem:()=>{e.disabled||l("hover",e.index)},selectOptionClick:()=>{e.disabled||l("select",e.item,e.index)}}}const al={label:"label",value:"value",disabled:"disabled",options:"options"};function et(e){const l=v(()=>({...al,...e.props}));return{aliasProps:l,getLabel:r=>ue(r,l.value.label),getValue:r=>ue(r,l.value.value),getDisabled:r=>ue(r,l.value.disabled),getOptions:r=>ue(r,l.value.options)}}const qn=Le({allowCreate:Boolean,autocomplete:{type:ae(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:At,default:on},effect:{type:ae(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:ae([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:ae(Array),required:!0},placeholder:{type:String},teleported:Dt.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:ae(Object),default:()=>({})},remote:Boolean,size:sn,props:{type:ae(Object),default:()=>al},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:ae(String),values:Zl,default:"bottom-start"},fallbackPlacements:{type:ae(Array),default:["bottom-start","top-start","right","left"]},tagType:{...Ft.type,default:"info"},tagEffect:{...Ft.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:Dt.appendTo,fitInputWidth:{type:[Boolean,Number],default:!0,validator(e){return rn(e)||Ve(e)}},suffixIcon:{type:At,default:an},...nn,...Dn(["ariaLabel"])}),Qn=Le({data:Array,disabled:Boolean,hovering:Boolean,item:{type:ae(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),Zn={[nl]:e=>!0,[ll]:e=>!0,"remove-tag":e=>!0,"visible-change":e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},Yn={hover:e=>Ve(e),select:(e,l)=>!0},yt=Symbol("ElSelectV2Injection"),Xn=ze({props:Qn,emits:Yn,setup(e,{emit:l}){const n=xt(yt),o=ge("select"),{hoverItem:u,selectOptionClick:c}=Gn(e,{emit:l}),{getLabel:r}=et(n.props);return{ns:o,hoverItem:u,selectOptionClick:c,getLabel:r}}});function Jn(e,l,n,o,u,c){return B(),oe("li",{"aria-selected":e.selected,style:Ae(e.style),class:k([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMousemove:e.hoverItem,onClick:de(e.selectOptionClick,["stop"])},[ce(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[C("span",null,fe(e.getLabel(e.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var xn=gt(Xn,[["render",Jn],["__file","option-item.vue"]]),Gt=Number.isNaN||function(l){return typeof l=="number"&&l!==l};function _n(e,l){return!!(e===l||Gt(e)&&Gt(l))}function ea(e,l){if(e.length!==l.length)return!1;for(var n=0;n<e.length;n++)if(!_n(e[n],l[n]))return!1;return!0}function ta(e,l){l===void 0&&(l=ea);var n=null;function o(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];if(n&&n.lastThis===this&&l(u,n.lastArgs))return n.lastResult;var r=e.apply(this,u);return n={lastResult:r,lastArgs:u,lastThis:this},r}return o.clear=function(){n=null},o}const la=()=>{const l=_t().proxy.$props;return v(()=>{const n=(o,u,c)=>({});return l.perfMode?un(n):ta(n)})},na=50,qt="itemRendered",Qt="scroll",sl="forward",ol="backward",We="auto",il="smart",rl="start",xe="center",ul="end",Re="horizontal",St="vertical",aa="ltr",Xe="rtl",dt="negative",cl="positive-ascending",dl="positive-descending",sa={[Re]:"left",[St]:"top"},oa=20,ia={[Re]:"deltaX",[St]:"deltaY"},ra=({atEndEdge:e,atStartEdge:l,layout:n},o)=>{let u,c=0;const r=h=>h<0&&l.value||h>0&&e.value;return{hasReachedEdge:r,onWheel:h=>{Xt(u);const f=h[ia[n.value]];r(c)&&r(c+f)||(c+=f,Wn()||h.preventDefault(),u=Jt(()=>{o(c),c=0}))}}},ft=Te({type:ae([Number,Function]),required:!0}),mt=Te({type:Number}),vt=Te({type:Number,default:2}),ua=Te({type:String,values:["ltr","rtl"],default:"ltr"}),pt=Te({type:Number,default:0}),_e=Te({type:Number,required:!0}),fl=Te({type:String,values:["horizontal","vertical"],default:St}),ml=Le({className:{type:String,default:""},containerElement:{type:ae([String,Object]),default:"div"},data:{type:ae(Array),default:()=>cn([])},direction:ua,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:ae([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),ca=Le({cache:vt,estimatedItemSize:mt,layout:fl,initScrollOffset:pt,total:_e,itemSize:ft,...ml}),ht={type:Number,default:6},vl={type:Number,default:0},pl={type:Number,default:2};Le({columnCache:vt,columnWidth:ft,estimatedColumnWidth:mt,estimatedRowHeight:mt,initScrollLeft:pt,initScrollTop:pt,itemKey:{type:ae(Function),default:({columnIndex:e,rowIndex:l})=>`${l}:${e}`},rowCache:vt,rowHeight:ft,totalColumn:_e,totalRow:_e,hScrollbarSize:ht,vScrollbarSize:ht,scrollbarStartGap:vl,scrollbarEndGap:pl,role:String,...ml});const da=Le({alwaysOn:Boolean,class:String,layout:fl,total:_e,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:ht,startGap:vl,endGap:pl,visible:Boolean}),rt=(e,l)=>e<l?sl:ol,Ke=e=>e===aa||e===Xe||e===Re;let Me=null;function Zt(e=!1){if(Me===null||e){const l=document.createElement("div"),n=l.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const o=document.createElement("div"),u=o.style;return u.width="100px",u.height="100px",l.appendChild(o),document.body.appendChild(l),l.scrollLeft>0?Me=dl:(l.scrollLeft=1,l.scrollLeft===0?Me=dt:Me=cl),document.body.removeChild(l),Me}return Me}function fa({move:e,size:l,bar:n},o){const u={},c=`translate${n.axis}(${e}px)`;return u[n.size]=l,u.transform=c,o==="horizontal"?u.height="100%":u.width="100%",u}const ma=ze({name:"ElVirtualScrollBar",props:da,emits:["scroll","start-move","stop-move"],setup(e,{emit:l}){const n=v(()=>e.startGap+e.endGap),o=ge("virtual-scrollbar"),u=ge("scrollbar"),c=z(),r=z();let p=null,h=null;const f=Je({isDragging:!1,traveled:0}),a=v(()=>Yl[e.layout]),d=v(()=>e.clientSize-V(n)),w=v(()=>({position:"absolute",width:`${Re===e.layout?d.value:e.scrollbarSize}px`,height:`${Re===e.layout?e.scrollbarSize:d.value}px`,[sa[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),R=v(()=>{const S=e.ratio;if(S>=100)return Number.POSITIVE_INFINITY;if(S>=50)return S*d.value/100;const H=d.value/3;return Math.floor(Math.min(Math.max(S*d.value,oa),H))}),$=v(()=>{if(!Number.isFinite(R.value))return{display:"none"};const S=`${R.value}px`;return fa({bar:a.value,size:S,move:f.traveled},e.layout)}),s=v(()=>Math.ceil(e.clientSize-R.value-V(n))),Q=()=>{window.addEventListener("mousemove",E),window.addEventListener("mouseup",Z);const S=V(r);S&&(h=document.onselectstart,document.onselectstart=()=>!1,S.addEventListener("touchmove",E,{passive:!0}),S.addEventListener("touchend",Z))},P=()=>{window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",Z),document.onselectstart=h,h=null;const S=V(r);S&&(S.removeEventListener("touchmove",E),S.removeEventListener("touchend",Z))},te=S=>{S.stopImmediatePropagation(),!(S.ctrlKey||[1,2].includes(S.button))&&(f.isDragging=!0,f[a.value.axis]=S.currentTarget[a.value.offset]-(S[a.value.client]-S.currentTarget.getBoundingClientRect()[a.value.direction]),l("start-move"),Q())},Z=()=>{f.isDragging=!1,f[a.value.axis]=0,l("stop-move"),P()},E=S=>{const{isDragging:H}=f;if(!H||!r.value||!c.value)return;const U=f[a.value.axis];if(!U)return;Xt(p);const X=(c.value.getBoundingClientRect()[a.value.direction]-S[a.value.client])*-1,J=r.value[a.value.offset]-U,y=X-J;p=Jt(()=>{f.traveled=Math.max(0,Math.min(y,s.value)),l("scroll",y,s.value)})},Y=S=>{const H=Math.abs(S.target.getBoundingClientRect()[a.value.direction]-S[a.value.client]),U=r.value[a.value.offset]/2,X=H-U;f.traveled=Math.max(0,Math.min(X,s.value)),l("scroll",X,s.value)};return Oe(()=>e.scrollFrom,S=>{f.isDragging||(f.traveled=Math.ceil(S*s.value))}),dn(()=>{P()}),()=>Ie("div",{role:"presentation",ref:c,class:[o.b(),e.class,(e.alwaysOn||f.isDragging)&&"always-on"],style:w.value,onMousedown:de(Y,["stop","prevent"]),onTouchstartPrevent:te},Ie("div",{ref:r,class:u.e("thumb"),style:$.value,onMousedown:te},[]))}}),hl=({name:e,getOffset:l,getItemSize:n,getItemOffset:o,getEstimatedTotalSize:u,getStartIndexForOffset:c,getStopIndexForStartIndex:r,initCache:p,clearCache:h,validateProps:f})=>ze({name:e??"ElVirtualList",props:ca,emits:[qt,Qt],setup(a,{emit:d,expose:w}){f(a);const R=_t(),$=ge("vl"),s=z(p(a,R)),Q=la(),P=z(),te=z(),Z=z(),E=z({isScrolling:!1,scrollDir:"forward",scrollOffset:Ve(a.initScrollOffset)?a.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:a.scrollbarAlwaysOn}),Y=v(()=>{const{total:g,cache:M}=a,{isScrolling:T,scrollDir:K,scrollOffset:N}=V(E);if(g===0)return[0,0,0,0];const j=c(a,N,V(s)),A=r(a,j,N,V(s)),he=!T||K===ol?Math.max(1,M):1,ve=!T||K===sl?Math.max(1,M):1;return[Math.max(0,j-he),Math.max(0,Math.min(g-1,A+ve)),j,A]}),S=v(()=>u(a,V(s))),H=v(()=>Ke(a.layout)),U=v(()=>[{position:"relative",[`overflow-${H.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:a.direction,height:Ve(a.height)?`${a.height}px`:a.height,width:Ve(a.width)?`${a.width}px`:a.width},a.style]),X=v(()=>{const g=V(S),M=V(H);return{height:M?"100%":`${g}px`,pointerEvents:V(E).isScrolling?"none":void 0,width:M?`${g}px`:"100%"}}),J=v(()=>H.value?a.width:a.height),{onWheel:y}=ra({atStartEdge:v(()=>E.value.scrollOffset<=0),atEndEdge:v(()=>E.value.scrollOffset>=S.value),layout:v(()=>a.layout)},g=>{var M,T;(T=(M=Z.value).onMouseUp)==null||T.call(M),W(Math.min(E.value.scrollOffset+g,S.value-J.value))});fn(P,"wheel",y,{passive:!1});const I=()=>{const{total:g}=a;if(g>0){const[N,j,A,he]=V(Y);d(qt,N,j,A,he)}const{scrollDir:M,scrollOffset:T,updateRequested:K}=V(E);d(Qt,M,T,K)},F=g=>{const{clientHeight:M,scrollHeight:T,scrollTop:K}=g.currentTarget,N=V(E);if(N.scrollOffset===K)return;const j=Math.max(0,Math.min(K,T-M));E.value={...N,isScrolling:!0,scrollDir:rt(N.scrollOffset,j),scrollOffset:j,updateRequested:!1},ie(le)},G=g=>{const{clientWidth:M,scrollLeft:T,scrollWidth:K}=g.currentTarget,N=V(E);if(N.scrollOffset===T)return;const{direction:j}=a;let A=T;if(j===Xe)switch(Zt()){case dt:{A=-T;break}case dl:{A=K-M-T;break}}A=Math.max(0,Math.min(A,K-M)),E.value={...N,isScrolling:!0,scrollDir:rt(N.scrollOffset,A),scrollOffset:A,updateRequested:!1},ie(le)},D=g=>{V(H)?G(g):F(g),I()},x=(g,M)=>{const T=(S.value-J.value)/M*g;W(Math.min(S.value-J.value,T))},W=g=>{g=Math.max(g,0),g!==V(E).scrollOffset&&(E.value={...V(E),scrollOffset:g,scrollDir:rt(V(E).scrollOffset,g),updateRequested:!0},ie(le))},_=(g,M=We)=>{const{scrollOffset:T}=V(E);g=Math.max(0,Math.min(g,a.total-1)),W(l(a,g,M,T,V(s)))},me=g=>{const{direction:M,itemSize:T,layout:K}=a,N=Q.value(h&&T,h&&K,h&&M);let j;if(hn(N,String(g)))j=N[g];else{const A=o(a,g,V(s)),he=n(a,g,V(s)),ve=V(H),Ne=M===Xe,ke=ve?A:0;N[g]=j={position:"absolute",left:Ne?void 0:`${ke}px`,right:Ne?`${ke}px`:void 0,top:ve?0:`${A}px`,height:ve?"100%":`${he}px`,width:ve?`${he}px`:"100%"}}return j},le=()=>{E.value.isScrolling=!1,ie(()=>{Q.value(-1,null,null)})},O=()=>{const g=P.value;g&&(g.scrollTop=0)};bt(()=>{if(!mn)return;const{initScrollOffset:g}=a,M=V(P);Ve(g)&&M&&(V(H)?M.scrollLeft=g:M.scrollTop=g),I()}),vn(()=>{const{direction:g,layout:M}=a,{scrollOffset:T,updateRequested:K}=V(E),N=V(P);if(K&&N)if(M===Re)if(g===Xe)switch(Zt()){case dt:{N.scrollLeft=-T;break}case cl:{N.scrollLeft=T;break}default:{const{clientWidth:j,scrollWidth:A}=N;N.scrollLeft=A-j-T;break}}else N.scrollLeft=T;else N.scrollTop=T}),pn(()=>{V(P).scrollTop=V(E).scrollOffset});const L={ns:$,clientSize:J,estimatedTotalSize:S,windowStyle:U,windowRef:P,innerRef:te,innerStyle:X,itemsToRender:Y,scrollbarRef:Z,states:E,getItemStyle:me,onScroll:D,onScrollbarScroll:x,onWheel:y,scrollTo:W,scrollToItem:_,resetScrollTop:O};return w({windowRef:P,innerRef:te,getItemStyleCache:Q,scrollTo:W,scrollToItem:_,resetScrollTop:O,states:E}),L},render(a){var d;const{$slots:w,className:R,clientSize:$,containerElement:s,data:Q,getItemStyle:P,innerElement:te,itemsToRender:Z,innerStyle:E,layout:Y,total:S,onScroll:H,onScrollbarScroll:U,states:X,useIsScrolling:J,windowStyle:y,ns:I}=a,[F,G]=Z,D=Be(s),x=Be(te),W=[];if(S>0)for(let O=F;O<=G;O++)W.push(Ie(ut,{key:O},(d=w.default)==null?void 0:d.call(w,{data:Q,index:O,isScrolling:J?X.isScrolling:void 0,style:P(O)})));const _=[Ie(x,{style:E,ref:"innerRef"},Bt(x)?W:{default:()=>W})],me=Ie(ma,{ref:"scrollbarRef",clientSize:$,layout:Y,onScroll:U,ratio:$*100/this.estimatedTotalSize,scrollFrom:X.scrollOffset/(this.estimatedTotalSize-$),total:S}),le=Ie(D,{class:[I.e("window"),R],style:y,onScroll:H,ref:"windowRef",key:0},Bt(D)?[_]:{default:()=>[_]});return Ie("div",{key:0,class:[I.e("wrapper"),X.scrollbarAlwaysOn?"always-on":""]},[le,me])}}),va=hl({name:"ElFixedSizeList",getItemOffset:({itemSize:e},l)=>l*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:l})=>l*e,getOffset:({height:e,total:l,itemSize:n,layout:o,width:u},c,r,p)=>{const h=Ke(o)?u:e,f=Math.max(0,l*n-h),a=Math.min(f,c*n),d=Math.max(0,(c+1)*n-h);switch(r===il&&(p>=d-h&&p<=a+h?r=We:r=xe),r){case rl:return a;case ul:return d;case xe:{const w=Math.round(d+(a-d)/2);return w<Math.ceil(h/2)?0:w>f+Math.floor(h/2)?f:w}case We:default:return p>=d&&p<=a?p:p<d?d:a}},getStartIndexForOffset:({total:e,itemSize:l},n)=>Math.max(0,Math.min(e-1,Math.floor(n/l))),getStopIndexForStartIndex:({height:e,total:l,itemSize:n,layout:o,width:u},c,r)=>{const p=c*n,h=Ke(o)?u:e,f=Math.ceil((h+r-p)/n);return Math.max(0,Math.min(l-1,c+f-1))},initCache(){},clearCache:!0,validateProps(){}}),Ce=(e,l,n)=>{const{itemSize:o}=e,{items:u,lastVisitedIndex:c}=n;if(l>c){let r=0;if(c>=0){const p=u[c];r=p.offset+p.size}for(let p=c+1;p<=l;p++){const h=o(p);u[p]={offset:r,size:h},r+=h}n.lastVisitedIndex=l}return u[l]},pa=(e,l,n)=>{const{items:o,lastVisitedIndex:u}=l;return(u>0?o[u].offset:0)>=n?gl(e,l,0,u,n):ha(e,l,Math.max(0,u),n)},gl=(e,l,n,o,u)=>{for(;n<=o;){const c=n+Math.floor((o-n)/2),r=Ce(e,c,l).offset;if(r===u)return c;r<u?n=c+1:r>u&&(o=c-1)}return Math.max(0,n-1)},ha=(e,l,n,o)=>{const{total:u}=e;let c=1;for(;n<u&&Ce(e,n,l).offset<o;)n+=c,c*=2;return gl(e,l,Math.floor(n/2),Math.min(n,u-1),o)},Yt=({total:e},{items:l,estimatedItemSize:n,lastVisitedIndex:o})=>{let u=0;if(o>=e&&(o=e-1),o>=0){const p=l[o];u=p.offset+p.size}const r=(e-o-1)*n;return u+r},ga=hl({name:"ElDynamicSizeList",getItemOffset:(e,l,n)=>Ce(e,l,n).offset,getItemSize:(e,l,{items:n})=>n[l].size,getEstimatedTotalSize:Yt,getOffset:(e,l,n,o,u)=>{const{height:c,layout:r,width:p}=e,h=Ke(r)?p:c,f=Ce(e,l,u),a=Yt(e,u),d=Math.max(0,Math.min(a-h,f.offset)),w=Math.max(0,f.offset-h+f.size);switch(n===il&&(o>=w-h&&o<=d+h?n=We:n=xe),n){case rl:return d;case ul:return w;case xe:return Math.round(w+(d-w)/2);case We:default:return o>=w&&o<=d?o:o<w?w:d}},getStartIndexForOffset:(e,l,n)=>pa(e,n,l),getStopIndexForStartIndex:(e,l,n,o)=>{const{height:u,total:c,layout:r,width:p}=e,h=Ke(r)?p:u,f=Ce(e,l,o),a=n+h;let d=f.offset+f.size,w=l;for(;w<c-1&&d<a;)w++,d+=Ce(e,w,o).size;return w},initCache({estimatedItemSize:e=na},l){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(o,u=!0)=>{var c,r;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,o-1),(c=l.exposed)==null||c.getItemStyleCache(-1),u&&((r=l.proxy)==null||r.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:e})=>{}}),ba={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var ya=ze({name:"ElSelectDropdown",props:ba,setup(e,{slots:l,expose:n}){const o=xt(yt),u=ge("select"),{getLabel:c,getValue:r,getDisabled:p}=et(o.props),h=z([]),f=z(),a=v(()=>e.data.length);Oe(()=>a.value,()=>{var y,I;(I=(y=o.tooltipRef.value)==null?void 0:y.updatePopper)==null||I.call(y)});const d=v(()=>el(o.props.estimatedOptionHeight)),w=v(()=>d.value?{itemSize:o.props.itemHeight}:{estimatedSize:o.props.estimatedOptionHeight,itemSize:y=>h.value[y]}),R=(y=[],I)=>{const{props:{valueKey:F}}=o;return Pe(I)?y&&y.some(G=>bn(ue(G,F))===ue(I,F)):y.includes(I)},$=(y,I)=>{if(Pe(I)){const{valueKey:F}=o.props;return ue(y,F)===ue(I,F)}else return y===I},s=(y,I)=>o.props.multiple?R(y,r(I)):$(y,r(I)),Q=(y,I)=>{const{disabled:F,multiple:G,multipleLimit:D}=o.props;return F||!I&&(G?D>0&&y.length>=D:!1)},P=y=>e.hoveringIndex===y;n({listRef:f,isSized:d,isItemDisabled:Q,isItemHovering:P,isItemSelected:s,scrollToItem:y=>{const I=f.value;I&&I.scrollToItem(y)},resetScrollTop:()=>{const y=f.value;y&&y.resetScrollTop()}});const Y=y=>{const{index:I,data:F,style:G}=y,D=V(d),{itemSize:x,estimatedSize:W}=V(w),{modelValue:_}=o.props,{onSelect:me,onHover:le}=o,O=F[I];if(O.type==="Group")return re(Un,{item:O,style:G,height:D?x:W},null);const L=s(_,O),g=Q(_,L),M=P(I);return re(xn,Pt(y,{selected:L,disabled:p(O)||g,created:!!O.created,hovering:M,item:O,onSelect:me,onHover:le}),{default:T=>{var K;return((K=l.default)==null?void 0:K.call(l,T))||re("span",null,[c(O)])}})},{onKeyboardNavigate:S,onKeyboardSelect:H}=o,U=()=>{S("forward")},X=()=>{S("backward")},J=y=>{const{code:I}=y,{tab:F,esc:G,down:D,up:x,enter:W,numpadEnter:_}=tl;switch([G,D,x,W,_].includes(I)&&(y.preventDefault(),y.stopPropagation()),I){case F:case G:break;case D:U();break;case x:X();break;case W:case _:H();break}};return()=>{var y,I,F,G;const{data:D,width:x}=e,{height:W,multiple:_,scrollbarAlwaysOn:me}=o.props,le=v(()=>gn?!0:me),O=V(d)?va:ga;return re("div",{class:[u.b("dropdown"),u.is("multiple",_)],style:{width:`${x}px`}},[(y=l.header)==null?void 0:y.call(l),((I=l.loading)==null?void 0:I.call(l))||((F=l.empty)==null?void 0:F.call(l))||re(O,Pt({ref:f},V(w),{className:u.be("dropdown","list"),scrollbarAlwaysOn:le.value,data:D,height:W,width:x,total:D.length,onKeydown:J}),{default:L=>re(Y,L,null)}),(G=l.footer)==null?void 0:G.call(l)])}}});function Sa(e,l){const{aliasProps:n,getLabel:o,getValue:u}=et(e),c=z(0),r=z(),p=v(()=>e.allowCreate&&e.filterable);function h(R){const $=s=>o(s)===R;return e.options&&e.options.some($)||l.createdOptions.some($)}function f(R){p.value&&(e.multiple&&R.created?c.value++:r.value=R)}function a(R){if(p.value)if(R&&R.length>0){if(h(R))return;const $={[n.value.value]:R,[n.value.label]:R,created:!0,[n.value.disabled]:!1};l.createdOptions.length>=c.value?l.createdOptions[c.value]=$:l.createdOptions.push($)}else if(e.multiple)l.createdOptions.length=c.value;else{const $=r.value;l.createdOptions.length=0,$&&$.created&&l.createdOptions.push($)}}function d(R){if(!p.value||!R||!R.created||R.created&&e.reserveKeyword&&l.inputValue===o(R))return;const $=l.createdOptions.findIndex(s=>u(s)===u(R));~$&&(l.createdOptions.splice($,1),c.value--)}function w(){p.value&&(l.createdOptions.length=0,c.value=0)}return{createNewOption:a,removeNewOption:d,selectNewOption:f,clearAllNewOption:w}}const wa=(e,l)=>{const{t:n}=yn(),o=ge("select"),u=ge("input"),{form:c,formItem:r}=Fn(),{inputId:p}=An(e,{formItemContext:r}),{aliasProps:h,getLabel:f,getValue:a,getDisabled:d,getOptions:w}=et(e),{valueOnClear:R,isEmptyValue:$}=Sn(e),s=Je({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),Q=z(-1),P=z(),te=z(),Z=z(),E=z(),Y=z(),S=z(),H=z(),U=z(),X=z(),J=z(),{isComposing:y,handleCompositionStart:I,handleCompositionEnd:F,handleCompositionUpdate:G}=Bn({afterComposition:t=>kt(t)}),D=v(()=>e.disabled||!!c?.disabled),{wrapperRef:x,isFocused:W,handleBlur:_}=Pn(Y,{disabled:D,afterFocus(){e.automaticDropdown&&!L.value&&(L.value=!0,s.menuVisibleOnFocus=!0)},beforeBlur(t){var i,m;return((i=Z.value)==null?void 0:i.isFocusInsideContent(t))||((m=E.value)==null?void 0:m.isFocusInsideContent(t))},afterBlur(){var t;L.value=!1,s.menuVisibleOnFocus=!1,e.validateEvent&&((t=r?.validate)==null||t.call(r,"blur").catch(i=>Ut()))}}),me=v(()=>ke("")),le=v(()=>e.loading?!1:e.options.length>0||s.createdOptions.length>0),O=z([]),L=z(!1),g=v(()=>{var t;return(t=c?.statusIcon)!=null?t:!1}),M=v(()=>{const t=O.value.length*e.itemHeight;return t>e.height?e.height:t}),T=v(()=>e.multiple?we(e.modelValue)&&e.modelValue.length>0:!$(e.modelValue)),K=v(()=>e.clearable&&!D.value&&s.inputHovering&&T.value),N=v(()=>e.remote&&e.filterable?"":e.suffixIcon),j=v(()=>N.value&&o.is("reverse",L.value)),A=v(()=>r?.validateState||""),he=v(()=>{if(A.value)return wn[A.value]}),ve=v(()=>e.remote?300:0),Ne=v(()=>e.loading?e.loadingText||n("el.select.loading"):e.remote&&!s.inputValue&&!le.value?!1:e.filterable&&s.inputValue&&le.value&&O.value.length===0?e.noMatchText||n("el.select.noMatch"):le.value?null:e.noDataText||n("el.select.noData")),ke=t=>{const i=new RegExp(Xl(t),"i"),m=e.filterable&&Ze(e.filterMethod),b=e.filterable&&e.remote&&Ze(e.remoteMethod),q=se=>m||b?!0:t?i.test(f(se)||""):!0;return e.loading?[]:[...s.createdOptions,...e.options].reduce((se,be)=>{const ye=w(be);if(we(ye)){const qe=ye.filter(q);qe.length>0&&se.push({label:f(be),type:"Group"},...qe)}else(e.remote||q(be))&&se.push(be);return se},[])},wt=()=>{O.value=ke(s.inputValue)},Ot=v(()=>{const t=new Map;return me.value.forEach((i,m)=>{t.set(ne(a(i)),{option:i,index:m})}),t}),je=v(()=>{const t=new Map;return O.value.forEach((i,m)=>{t.set(ne(a(i)),{option:i,index:m})}),t}),bl=v(()=>O.value.every(t=>d(t))),It=Hn(),yl=v(()=>It.value==="small"?"small":"default"),$e=()=>{var t;if(Ve(e.fitInputWidth)){Q.value=e.fitInputWidth;return}const i=((t=P.value)==null?void 0:t.offsetWidth)||200;!e.fitInputWidth&&le.value?ie(()=>{Q.value=Math.max(i,Sl())}):Q.value=i},Sl=()=>{var t,i;const b=document.createElement("canvas").getContext("2d"),q=o.be("dropdown","item"),be=(((i=(t=U.value)==null?void 0:t.listRef)==null?void 0:i.innerRef)||document).querySelector(`.${q}`);if(be===null||b===null)return 0;const ye=getComputedStyle(be),qe=Number.parseFloat(ye.paddingLeft)+Number.parseFloat(ye.paddingRight);return b.font=`bold ${ye.font.replace(new RegExp(`\\b${ye.fontWeight}\\b`),"")}`,O.value.reduce((Gl,ql)=>{const Ql=b.measureText(f(ql));return Math.max(Ql.width,Gl)},0)+qe},wl=()=>{if(!te.value)return 0;const t=window.getComputedStyle(te.value);return Number.parseFloat(t.gap||"6px")},Ol=v(()=>{const t=wl();return{maxWidth:`${J.value&&e.maxCollapseTags===1?s.selectionWidth-s.collapseItemWidth-t:s.selectionWidth}px`}}),Il=v(()=>({maxWidth:`${s.selectionWidth}px`})),Vl=v(()=>we(e.modelValue)?e.modelValue.length===0&&!s.inputValue:e.filterable?!s.inputValue:!0),Tl=v(()=>{var t;const i=(t=e.placeholder)!=null?t:n("el.select.placeholder");return e.multiple||!T.value?i:s.selectedLabel}),El=v(()=>{var t,i;return(i=(t=Z.value)==null?void 0:t.popperRef)==null?void 0:i.contentRef}),Ml=v(()=>{if(e.multiple){const t=e.modelValue.length;if(e.modelValue.length>0&&je.value.has(e.modelValue[t-1])){const{index:i}=je.value.get(e.modelValue[t-1]);return i}}else if(!$(e.modelValue)&&je.value.has(e.modelValue)){const{index:t}=je.value.get(e.modelValue);return t}return-1}),Cl=v({get(){return L.value&&Ne.value!==!1},set(t){L.value=t}}),Rl=v(()=>e.multiple?e.collapseTags?s.cachedOptions.slice(0,e.maxCollapseTags):s.cachedOptions:[]),zl=v(()=>e.multiple?e.collapseTags?s.cachedOptions.slice(e.maxCollapseTags):[]:[]),{createNewOption:Vt,removeNewOption:tt,selectNewOption:Tt,clearAllNewOption:lt}=Sa(e,s),nt=()=>{D.value||(s.menuVisibleOnFocus?s.menuVisibleOnFocus=!1:L.value=!L.value)},Et=()=>{s.inputValue.length>0&&!L.value&&(L.value=!0),Vt(s.inputValue),ie(()=>{at(s.inputValue)})},Mt=Jl(Et,ve.value),at=t=>{s.previousQuery===t||y.value||(s.previousQuery=t,e.filterable&&Ze(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&Ze(e.remoteMethod)&&e.remoteMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)&&O.value.length?ie(Ll):ie(Kl))},Ll=()=>{const t=O.value.filter(b=>!b.disabled&&b.type!=="Group"),i=t.find(b=>b.created),m=t[0];s.hoveringIndex=st(O.value,i||m)},Nl=t=>{Qe(e.modelValue,t)||l(ll,t)},De=t=>{l(nl,t),Nl(t),s.previousValue=e.multiple?String(t):t,ie(()=>{if(e.multiple&&we(e.modelValue)){const i=s.cachedOptions.slice(),m=e.modelValue.map(b=>$t(b,i));Qe(s.cachedOptions,m)||(s.cachedOptions=m)}else Ge(!0)})},st=(t=[],i)=>{if(!Pe(i))return t.indexOf(i);const m=e.valueKey;let b=-1;return t.some((q,se)=>ue(q,m)===ue(i,m)?(b=se,!0):!1),b},ne=t=>Pe(t)?ue(t,e.valueKey):t,Ct=()=>{$e()},Rt=()=>{s.selectionWidth=Number.parseFloat(window.getComputedStyle(te.value).width)},kl=()=>{s.collapseItemWidth=J.value.getBoundingClientRect().width},ot=()=>{var t,i;(i=(t=Z.value)==null?void 0:t.updatePopper)==null||i.call(t)},zt=()=>{var t,i;(i=(t=E.value)==null?void 0:t.updatePopper)==null||i.call(t)},Lt=t=>{if(e.multiple){let i=e.modelValue.slice();const m=st(i,a(t));m>-1?(i=[...i.slice(0,m),...i.slice(m+1)],s.cachedOptions.splice(m,1),tt(t)):(e.multipleLimit<=0||i.length<e.multipleLimit)&&(i=[...i,a(t)],s.cachedOptions.push(t),Tt(t)),De(i),t.created&&at(""),e.filterable&&!e.reserveKeyword&&(s.inputValue="")}else s.selectedLabel=f(t),De(a(t)),L.value=!1,Tt(t),t.created||lt();Ue()},$l=(t,i)=>{let m=e.modelValue.slice();const b=st(m,a(i));b>-1&&!D.value&&(m=[...e.modelValue.slice(0,b),...e.modelValue.slice(b+1)],s.cachedOptions.splice(b,1),De(m),l("remove-tag",a(i)),tt(i)),t.stopPropagation(),Ue()},Ue=()=>{var t;(t=Y.value)==null||t.focus()},Dl=()=>{var t;if(L.value){L.value=!1,ie(()=>{var i;return(i=Y.value)==null?void 0:i.blur()});return}(t=Y.value)==null||t.blur()},Fl=()=>{s.inputValue.length>0?s.inputValue="":L.value=!1},Al=t=>xl(t,i=>!s.cachedOptions.some(m=>a(m)===i&&d(m))),Bl=t=>{if(e.multiple&&t.code!==tl.delete&&s.inputValue.length===0){t.preventDefault();const i=e.modelValue.slice(),m=Al(i);if(m<0)return;const b=i[m];i.splice(m,1);const q=s.cachedOptions[m];s.cachedOptions.splice(m,1),tt(q),De(i),l("remove-tag",b)}},Pl=()=>{let t;we(e.modelValue)?t=[]:t=R.value,s.selectedLabel="",L.value=!1,De(t),l("clear"),lt(),Ue()},Nt=(t,i=void 0)=>{const m=O.value;if(!["forward","backward"].includes(t)||D.value||m.length<=0||bl.value||y.value)return;if(!L.value)return nt();el(i)&&(i=s.hoveringIndex);let b=-1;t==="forward"?(b=i+1,b>=m.length&&(b=0)):t==="backward"&&(b=i-1,(b<0||b>=m.length)&&(b=m.length-1));const q=m[b];if(d(q)||q.type==="Group")return Nt(t,b);s.hoveringIndex=b,it(b)},Hl=()=>{if(L.value)~s.hoveringIndex&&O.value[s.hoveringIndex]&&Lt(O.value[s.hoveringIndex]);else return nt()},Wl=t=>{s.hoveringIndex=t??-1},Kl=()=>{e.multiple?s.hoveringIndex=O.value.findIndex(t=>e.modelValue.some(i=>ne(i)===ne(a(t)))):s.hoveringIndex=O.value.findIndex(t=>ne(a(t))===ne(e.modelValue))},kt=t=>{if(s.inputValue=t.target.value,e.remote)Mt();else return Et()},jl=t=>{if(L.value=!1,W.value){const i=new FocusEvent("focus",t);_(i)}},Ul=()=>(s.isBeforeHide=!1,ie(()=>{~Ml.value&&it(s.hoveringIndex)})),it=t=>{U.value.scrollToItem(t)},$t=(t,i)=>{const m=ne(t);if(Ot.value.has(m)){const{option:b}=Ot.value.get(m);return b}if(i&&i.length){const b=i.find(q=>ne(a(q))===m);if(b)return b}return{[h.value.value]:t,[h.value.label]:t}},Ge=(t=!1)=>{if(e.multiple)if(e.modelValue.length>0){const i=s.cachedOptions.slice();s.cachedOptions.length=0,s.previousValue=e.modelValue.toString();for(const m of e.modelValue){const b=$t(m,i);s.cachedOptions.push(b)}}else s.cachedOptions=[],s.previousValue=void 0;else if(T.value){s.previousValue=e.modelValue;const i=O.value,m=i.findIndex(b=>ne(a(b))===ne(e.modelValue));~m?s.selectedLabel=f(i[m]):(!s.selectedLabel||t)&&(s.selectedLabel=ne(e.modelValue))}else s.selectedLabel="",s.previousValue=void 0;lt(),$e()};return Oe(()=>e.fitInputWidth,()=>{$e()}),Oe(L,t=>{t?(e.persistent||$e(),at("")):(s.inputValue="",s.previousQuery=null,s.isBeforeHide=!0,Vt("")),l("visible-change",t)}),Oe(()=>e.modelValue,(t,i)=>{var m;(!t||we(t)&&t.length===0||e.multiple&&!Qe(t.toString(),s.previousValue)||!e.multiple&&ne(t)!==ne(s.previousValue))&&Ge(!0),!Qe(t,i)&&e.validateEvent&&((m=r?.validate)==null||m.call(r,"change").catch(q=>Ut()))},{deep:!0}),Oe(()=>e.options,()=>{const t=Y.value;(!t||t&&document.activeElement!==t)&&Ge()},{deep:!0,flush:"post"}),Oe(()=>O.value,()=>($e(),U.value&&ie(U.value.resetScrollTop))),Ht(()=>{s.isBeforeHide||wt()}),Ht(()=>{const{valueKey:t,options:i}=e,m=new Map;for(const b of i){const q=a(b);let se=q;if(Pe(se)&&(se=ue(q,t)),m.get(se))break;m.set(se,!0)}}),bt(()=>{Ge()}),Ee(P,Ct),Ee(te,Rt),Ee(U,ot),Ee(x,ot),Ee(X,zt),Ee(J,kl),{inputId:p,collapseTagSize:yl,currentPlaceholder:Tl,expanded:L,emptyText:Ne,popupHeight:M,debounce:ve,allOptions:me,filteredOptions:O,iconComponent:N,iconReverse:j,tagStyle:Ol,collapseTagStyle:Il,popperSize:Q,dropdownMenuVisible:Cl,hasModelValue:T,shouldShowPlaceholder:Vl,selectDisabled:D,selectSize:It,needStatusIcon:g,showClearBtn:K,states:s,isFocused:W,nsSelect:o,nsInput:u,inputRef:Y,menuRef:U,tagMenuRef:X,tooltipRef:Z,tagTooltipRef:E,selectRef:P,wrapperRef:x,selectionRef:te,prefixRef:S,suffixRef:H,collapseItemRef:J,popperRef:El,validateState:A,validateIcon:he,showTagList:Rl,collapseTagList:zl,debouncedOnInputChange:Mt,deleteTag:$l,getLabel:f,getValue:a,getDisabled:d,getValueKey:ne,handleClear:Pl,handleClickOutside:jl,handleDel:Bl,handleEsc:Fl,focus:Ue,blur:Dl,handleMenuEnter:Ul,handleResize:Ct,resetSelectionWidth:Rt,updateTooltip:ot,updateTagTooltip:zt,updateOptions:wt,toggleMenu:nt,scrollTo:it,onInput:kt,onKeyboardNavigate:Nt,onKeyboardSelect:Hl,onSelect:Lt,onHover:Wl,handleCompositionStart:I,handleCompositionEnd:F,handleCompositionUpdate:G}},Oa=ze({name:"ElSelectV2",components:{ElSelectMenu:ya,ElTag:tn,ElTooltip:en,ElIcon:Mn},directives:{ClickOutside:_l},props:qn,emits:Zn,setup(e,{emit:l}){const n=v(()=>{const{modelValue:p,multiple:h}=e,f=h?[]:void 0;return we(p)?h?p:f:h?f:p}),o=wa(Je({...jt(e),modelValue:n}),l),{calculatorRef:u,inputStyle:c}=ln();Cn(yt,{props:Je({...jt(e),height:o.popupHeight,modelValue:n}),expanded:o.expanded,tooltipRef:o.tooltipRef,onSelect:o.onSelect,onHover:o.onHover,onKeyboardNavigate:o.onKeyboardNavigate,onKeyboardSelect:o.onKeyboardSelect});const r=v(()=>e.multiple?o.states.cachedOptions.map(p=>p.label):o.states.selectedLabel);return{...o,modelValue:n,selectedLabel:r,calculatorRef:u,inputStyle:c}}});function Ia(e,l,n,o,u,c){const r=Ye("el-tag"),p=Ye("el-tooltip"),h=Ye("el-icon"),f=Ye("el-select-menu"),a=On("click-outside");return He((B(),oe("div",{ref:"selectRef",class:k([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:d=>e.states.inputHovering=!0,onMouseleave:d=>e.states.inputHovering=!1},[re(p,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:d=>e.states.isBeforeHide=!1},{default:ee(()=>[C("div",{ref:"wrapperRef",class:k([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:de(e.toggleMenu,["prevent"])},[e.$slots.prefix?(B(),oe("div",{key:0,ref:"prefixRef",class:k(e.nsSelect.e("prefix"))},[ce(e.$slots,"prefix")],2)):pe("v-if",!0),C("div",{ref:"selectionRef",class:k([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?ce(e.$slots,"tag",{key:0,data:e.states.cachedOptions,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(B(!0),oe(ut,null,Wt(e.showTagList,d=>(B(),oe("div",{key:e.getValueKey(e.getValue(d)),class:k(e.nsSelect.e("selected-item"))},[re(r,{closable:!e.selectDisabled&&!e.getDisabled(d),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Ae(e.tagStyle),onClose:w=>e.deleteTag(w,d)},{default:ee(()=>[C("span",{class:k(e.nsSelect.e("tags-text"))},[ce(e.$slots,"label",{label:e.getLabel(d),value:e.getValue(d)},()=>[Kt(fe(e.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(B(),Se(p,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom","popper-class":e.popperClass,teleported:e.teleported},{default:ee(()=>[C("div",{ref:"collapseItemRef",class:k(e.nsSelect.e("selected-item"))},[re(r,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:Ae(e.collapseTagStyle),"disable-transitions":""},{default:ee(()=>[C("span",{class:k(e.nsSelect.e("tags-text"))}," + "+fe(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:ee(()=>[C("div",{ref:"tagMenuRef",class:k(e.nsSelect.e("selection"))},[(B(!0),oe(ut,null,Wt(e.collapseTagList,d=>(B(),oe("div",{key:e.getValueKey(e.getValue(d)),class:k(e.nsSelect.e("selected-item"))},[re(r,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(d),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:w=>e.deleteTag(w,d)},{default:ee(()=>[C("span",{class:k(e.nsSelect.e("tags-text"))},[ce(e.$slots,"label",{label:e.getLabel(d),value:e.getValue(d)},()=>[Kt(fe(e.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","teleported"])):pe("v-if",!0)]):pe("v-if",!0),C("div",{class:k([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[He(C("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":d=>e.states.inputValue=d,style:Ae(e.inputStyle),autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:k([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onInput:e.onInput,onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onKeydown:[Fe(de(d=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),Fe(de(d=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),Fe(de(e.onKeyboardSelect,["stop","prevent"]),["enter"]),Fe(de(e.handleEsc,["stop","prevent"]),["esc"]),Fe(de(e.handleDel,["stop"]),["delete"])],onClick:de(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[ct,e.states.inputValue]]),e.filterable?(B(),oe("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:k(e.nsSelect.e("input-calculator")),textContent:fe(e.states.inputValue)},null,10,["textContent"])):pe("v-if",!0)],2),e.shouldShowPlaceholder?(B(),oe("div",{key:1,class:k([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?ce(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[C("span",null,fe(e.currentPlaceholder),1)]):(B(),oe("span",{key:1},fe(e.currentPlaceholder),1))],2)):pe("v-if",!0)],2),C("div",{ref:"suffixRef",class:k(e.nsSelect.e("suffix"))},[e.iconComponent?He((B(),Se(h,{key:0,class:k([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:ee(()=>[(B(),Se(Be(e.iconComponent)))]),_:1},8,["class"])),[[En,!e.showClearBtn]]):pe("v-if",!0),e.showClearBtn&&e.clearIcon?(B(),Se(h,{key:1,class:k([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.nsSelect.e("clear")]),onClick:de(e.handleClear,["prevent","stop"])},{default:ee(()=>[(B(),Se(Be(e.clearIcon)))]),_:1},8,["class","onClick"])):pe("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(B(),Se(h,{key:2,class:k([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:ee(()=>[(B(),Se(Be(e.validateIcon)))]),_:1},8,["class"])):pe("v-if",!0)],2)],10,["onClick"])]),content:ee(()=>[re(f,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},In({default:ee(d=>[ce(e.$slots,"default",Vn(Tn(d)))]),_:2},[e.$slots.header?{name:"header",fn:ee(()=>[C("div",{class:k(e.nsSelect.be("dropdown","header"))},[ce(e.$slots,"header")],2)])}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:ee(()=>[C("div",{class:k(e.nsSelect.be("dropdown","loading"))},[ce(e.$slots,"loading")],2)])}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:ee(()=>[C("div",{class:k(e.nsSelect.be("dropdown","empty"))},[ce(e.$slots,"empty",{},()=>[C("span",null,fe(e.emptyText),1)])],2)])}:void 0,e.$slots.footer?{name:"footer",fn:ee(()=>[C("div",{class:k(e.nsSelect.be("dropdown","footer"))},[ce(e.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[a,e.handleClickOutside,e.popperRef]])}var Va=gt(Oa,[["render",Ia],["__file","select.vue"]]);const Ta=Rn(Va),Ea={class:"email-sender"},Ma={class:"form-group"},Ca={class:"form-group"},Ra={class:"form-group"},za=["disabled"],La={__name:"Email",setup(e){zn();const l=z({recipient:[],subject:"",content:""}),n=z(!1),o=z(null),u=z([]),c=async()=>{const f=await Nn();u.value=f.data.results.map(a=>({label:a.username,value:a.id}))},r=async()=>{if(!l.value.recipient.length||!l.value.subject||!l.value.content){p("请填写所有必填字段","error");return}n.value=!0,o.value=null;const a={pk:l.value.recipient.join(","),type:"email",subject:l.value.subject,content:l.value.content};(await kn(a)).status===200&&Ln.success("邮件发送成功！"),h(),n.value=!1},p=(f,a)=>{o.value={text:f,type:a}},h=()=>{l.value={recipient:[],subject:"",content:"",attachments:[]}};return bt(()=>{c()}),(f,a)=>{const d=Ta;return B(),oe("div",Ea,[a[6]||(a[6]=C("div",{class:"header"},[C("h2",null,"发送邮件")],-1)),C("form",{onSubmit:de(r,["prevent"]),class:"email-form"},[C("div",Ma,[a[3]||(a[3]=C("label",{for:"recipient"},"收件人:",-1)),re(d,{modelValue:l.value.recipient,"onUpdate:modelValue":a[0]||(a[0]=w=>l.value.recipient=w),options:u.value,size:"large",placeholder:"请选择收件人",style:{width:"100%"},multiple:"",filterable:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":3,"reserve-keyword":!1},null,8,["modelValue","options"])]),C("div",Ca,[a[4]||(a[4]=C("label",{for:"subject"},"主题:",-1)),He(C("input",{type:"text",id:"subject","onUpdate:modelValue":a[1]||(a[1]=w=>l.value.subject=w),required:"",placeholder:"邮件主题"},null,512),[[ct,l.value.subject]])]),C("div",Ra,[a[5]||(a[5]=C("label",{for:"content"},"内容:",-1)),He(C("textarea",{id:"content","onUpdate:modelValue":a[2]||(a[2]=w=>l.value.content=w),required:"",rows:"8",placeholder:"请输入邮件内容..."},null,512),[[ct,l.value.content]])]),C("button",{type:"submit",disabled:n.value},fe(n.value?"发送中...":"发送邮件"),9,za),o.value?(B(),oe("div",{key:0,class:k(["message",o.value.type])},fe(o.value.text),3)):pe("",!0)],32)])}}},Ka=$n(La,[["__scopeId","data-v-86c20224"]]);export{Ka as default};
